import React, { useState, useEffect } from "react";
import styled from "styled-components";
import { useAuth } from "../../AuthContext";
import AcessoLogins from "../pages/Login&Acessos";
import BancoDeDados from "../pages/BancoDeDados";
import Sites from "../pages/Sites";
import { toast } from "react-toastify";

const Content = styled.div``;

const Title = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  border-bottom: 1px solid #00000020;
  padding: 2.5% 5%;

  & span {
    font-size: 16px;
    line-height: 100%;
    text-transform: uppercase;
    font-weight: 400;
    opacity: 0.7;
    letter-spacing: 1px;
  }

  & h1 {
    font-size: 32px;
    line-height: 100%;
    font-weight: 600;
    margin-top: -5px;
  }

  & p {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 5px;
    background-color: #00ff2a1f;
  }
`;

const Lista = styled.div`
  border: 1px solid #00000020;
  width: 30%;
  max-width: 350px;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: space-between;
  min-height: 80vh;
  gap: 10px;
  padding: 10px 15px;
  position: relative;
  border-top: none;
  border-left: 3px solid #000000;

  & ol {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 5px;
    width: 100%;

    & div {
      margin: 7.5px 0px;
      & h2 {
        font-size: 18px;
        font-weight: 600;
      }
    }

    & article {
      margin: 0 20px;
      width: calc(100% - 20px);
      & li {
        font-size: 14px;
        background-color: #00000010;
      }
    }

    & li {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 7px;
      cursor: pointer;
      padding: 5px 10px;
      font-size: 15px;
      width: 100%;
      border: 1px solid #00000020;
      transition: all 0.1s ease-out;
      &:hover,
      &.active { // Adicione esta parte para ativar o hover fixado
        background-color: #00ff2a1f;
        margin-left: 2px;
      }
      & svg {
        width: 17px;
        height: auto;
      }
    }
  }
`;

const Container = styled.div`
  display: flex;
  align-items: flex-start;
  justify-content: center;
  width: 100%;
  padding: 0 2.5%;
  gap: 10px;
`;

const Option = styled.div`
  width: 70%;
  height: 100%;
  min-height: 80vh;
  border: 1px solid #00000020;
  border-top: none;
  border-left: 3px solid #000000;
`;

const Autor = styled.div`
  width: 100%;
  border: 1px solid #00000020;
  padding: 10px;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  flex-direction: column;
  transition: all .2s ease-out;

  &:hover{
    background-color: #00ff2a1f;
  }

  & span {
    font-size: 12px;
    text-transform: uppercase;
    font-weight: 500;

    & a {
      color: #5aad0d;
      text-decoration: underline;
    }
  }
`

const SuporteTecnico = () => <div>EM DESENVOLVIMENTO</div>;
const ContatoDesenvolvedor = () => <div>EM DESENVOLVIMENTO</div>;

const menuOptions = [
  { 
    title: "Logins e acessos", 
    icon: (
      <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <g id="user">
          <path d="m24 10a8.38 8.38 0 1 0 8.38 8.38 8.39 8.39 0 0 0 -8.38-8.38zm0 14.76a6.38 6.38 0 1 1 6.38-6.38 6.38 6.38 0 0 1 -6.38 6.38z"></path>
          <path d="m24 3a22 22 0 1 0 22 22 22 22 0 0 0 -22-22zm-9.54 39.56v-5.56a6 6 0 0 1 6-6h7.08a6 6 0 0 1 6 6v5.59c-4.77 3.16-14.22 3.46-19.08-.03zm21.08-1.25v-4.31a8 8 0 0 0 -8-8h-7.08a8 8 0 0 0 -8 8v4.34a20 20 0 1 1 23.08 0z"></path>
        </g>
      </svg>
    ),
    component: <AcessoLogins />
  },
  { 
    title: "Banco de dados", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="fi_2405957">
        <g id="database_server" data-name="database server">
          <path d="M59.494,39.735l-1.725-.288a.971.971,0,0,1-.749-.591c-.057-.143-.116-.286-.177-.427a.975.975,0,0,1,.113-.947l1.015-1.421a2.992,2.992,0,0,0-.32-3.866l-1.846-1.846a2.989,2.989,0,0,0-3.8-.355V10c0-5.2-12.88-8-25-8S2,4.8,2,10V54c0,5.2,12.88,8,25,8a71.89,71.89,0,0,0,13.326-1.166A2.984,2.984,0,0,0,42.694,62h2.612a2.991,2.991,0,0,0,2.959-2.507l.287-1.724a.971.971,0,0,1,.591-.748c.144-.057.286-.116.428-.177a.974.974,0,0,1,.947.111l1.421,1.016a2.992,2.992,0,0,0,3.866-.32l1.847-1.846a2.993,2.993,0,0,0,.319-3.866l-1.016-1.421a.977.977,0,0,1-.112-.947q.091-.212.178-.428a.968.968,0,0,1,.749-.59l1.723-.288A2.991,2.991,0,0,0,62,45.306V42.694A2.991,2.991,0,0,0,59.494,39.735ZM50,31.225a.931.931,0,0,1-.43-.069q-.211-.091-.427-.177a.971.971,0,0,1-.591-.748l-.287-1.724c-.007-.042-.023-.08-.032-.121A11.213,11.213,0,0,0,50,27.308ZM27,4c14.25,0,23,3.494,23,6s-8.75,6-23,6S4,12.506,4,10,12.75,4,27,4ZM4,13.287C8.076,16.367,17.756,18,27,18s18.924-1.633,23-4.713V24c0,.832-1.041,1.808-2.808,2.67A2.99,2.99,0,0,0,45.306,26H42.694a2.991,2.991,0,0,0-2.959,2.507l-.287,1.724a.971.971,0,0,1-.591.748c-.144.057-.286.116-.428.177a.974.974,0,0,1-.947-.111l-1.421-1.016a2.989,2.989,0,0,0-3.054-.254C31.091,29.922,29.075,30,27,30,12.75,30,4,26.506,4,24ZM26.539,40.993A74.964,74.964,0,0,1,17,40.354V36.372A76.131,76.131,0,0,0,27,37c1.136,0,2.337-.027,3.644-.079l.4.561a.977.977,0,0,1,.112.947q-.091.212-.178.428a.968.968,0,0,1-.749.59l-1.723.288A2.983,2.983,0,0,0,26.539,40.993ZM4,27.287C8.076,30.367,17.756,32,27,32c1.235,0,2.448-.029,3.623-.079l-.275.274a2.987,2.987,0,0,0-.8,2.763C28.655,34.985,27.809,35,27,35a73.675,73.675,0,0,1-10.85-.769A1,1,0,0,0,15,35.22v6a1,1,0,0,0,.85.988A74.006,74.006,0,0,0,26,42.983v2.323a3.058,3.058,0,0,0,.086.68C12.386,45.838,4,42.451,4,40ZM4,54V43.287C8.076,46.367,17.756,48,27,48c.229,0,.457,0,.686-.008a2.976,2.976,0,0,0,.82.273l1.725.288a.971.971,0,0,1,.749.591c.057.143.116.286.177.427a.939.939,0,0,1,.067.314C29.861,49.956,28.452,50,27,50a73.675,73.675,0,0,1-10.85-.769A1,1,0,0,0,15,50.22v6a1,1,0,0,0,.85.988A74.859,74.859,0,0,0,27,58c1.822,0,3.647-.065,5.4-.181a2.979,2.979,0,0,0,3.664.152l1.423-1.016a.974.974,0,0,1,.947-.111q.211.092.427.177a.971.971,0,0,1,.591.748l.193,1.159A70.283,70.283,0,0,1,27,60C12.75,60,4,56.506,4,54Zm26.349,1.8.118.118A78.275,78.275,0,0,1,17,55.354V51.372A76.131,76.131,0,0,0,27,52c1.029,0,2.036-.023,3.028-.058A2.991,2.991,0,0,0,30.349,55.805ZM60,45.306a1,1,0,0,1-.836.986l-1.724.288a2.977,2.977,0,0,0-2.28,1.829c-.049.124-.1.247-.152.367a2.982,2.982,0,0,0,.32,2.9L56.343,53.1a1,1,0,0,1-.106,1.289l-1.846,1.846a1,1,0,0,1-1.289.107L51.68,55.328a2.981,2.981,0,0,0-2.9-.32c-.122.052-.244.1-.368.151a2.983,2.983,0,0,0-1.83,2.281l-.288,1.725a1,1,0,0,1-.986.835H42.694a1,1,0,0,1-.986-.835L41.42,57.44a2.983,2.983,0,0,0-1.83-2.281c-.124-.049-.246-.1-.366-.151a2.921,2.921,0,0,0-1.161-.238,3,3,0,0,0-1.743.558L34.9,56.344a1,1,0,0,1-1.288-.107l-1.846-1.846a1,1,0,0,1-.106-1.289l1.015-1.422a2.982,2.982,0,0,0,.32-2.9c-.053-.12-.1-.243-.151-.366a2.98,2.98,0,0,0-2.28-1.83l-1.726-.288A1,1,0,0,1,28,45.306V42.694a1,1,0,0,1,.836-.986l1.724-.288a2.977,2.977,0,0,0,2.28-1.829c.049-.124.1-.247.152-.367a2.982,2.982,0,0,0-.32-2.9L31.657,34.9a1,1,0,0,1,.106-1.289l1.846-1.846a1,1,0,0,1,1.289-.107l1.422,1.016a2.974,2.974,0,0,0,2.9.32c.122-.052.244-.1.368-.151a2.983,2.983,0,0,0,1.83-2.281l.288-1.725A1,1,0,0,1,42.694,28h2.612a1,1,0,0,1,.986.835l.288,1.725a2.983,2.983,0,0,0,1.83,2.281c.124.049.246.1.366.151a2.983,2.983,0,0,0,2.9-.32L53.1,31.656a1,1,0,0,1,1.288.107l1.846,1.846a1,1,0,0,1,.106,1.289L55.328,36.32a2.982,2.982,0,0,0-.32,2.9c.053.12.1.243.151.366a2.98,2.98,0,0,0,2.28,1.83l1.726.288a1,1,0,0,1,.835.986Z"></path>
          <path d="M44,35a9,9,0,1,0,9,9A9.01,9.01,0,0,0,44,35Zm0,16a7,7,0,1,1,7-7A7.008,7.008,0,0,1,44,51Z"></path>
          <path d="M15.85,27.208A74.859,74.859,0,0,0,27,28a74.859,74.859,0,0,0,11.15-.792A1,1,0,0,0,39,26.22v-6a1,1,0,0,0-1.15-.989,78.391,78.391,0,0,1-21.7,0A1,1,0,0,0,15,20.22v6A1,1,0,0,0,15.85,27.208ZM17,21.372A76.131,76.131,0,0,0,27,22a76.309,76.309,0,0,0,10-.628v3.982a79.027,79.027,0,0,1-20,0Z"></path>
        </g>
      </svg>
    ),
    component: <BancoDeDados />
  },
  { 
    title: "Suporte t√©cnico", 
    icon: (
      <svg viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" id="fi_4539212">
        <path d="m89.714 110.75h-13.114a1.749 1.749 0 0 1 -1.75-1.75v-23.5a8.274 8.274 0 0 0 -8.266-8.265h-5.17a8.274 8.274 0 0 0 -8.265 8.265v23.5a1.75 1.75 0 0 1 -1.75 1.75h-13.172a8.35 8.35 0 0 1 -8.342-8.341v-33.233h-6.576a6.389 6.389 0 0 1 -4.451-10.976l40.662-39.471a6.361 6.361 0 0 1 8.9 0l12.64 12.271a4.843 4.843 0 0 1 4.07-2.223h8.086a4.845 4.845 0 0 1 4.839 4.839v13.884l11.026 10.7a6.388 6.388 0 0 1 -4.449 10.973h-6.577v33.233a8.35 8.35 0 0 1 -8.341 8.344zm-11.362-3.5h11.362a4.847 4.847 0 0 0 4.841-4.841v-34.983a1.749 1.749 0 0 1 1.75-1.75h8.327a2.888 2.888 0 0 0 2.012-4.961l-11.558-11.215a1.75 1.75 0 0 1 -.531-1.256v-14.627a1.341 1.341 0 0 0 -1.339-1.339h-8.086a1.341 1.341 0 0 0 -1.339 1.339v.775a1.75 1.75 0 0 1 -2.969 1.255l-14.84-14.406a2.875 2.875 0 0 0 -4.024 0l-40.658 39.474a2.889 2.889 0 0 0 2.013 4.961h8.326a1.749 1.749 0 0 1 1.75 1.75v34.983a4.847 4.847 0 0 0 4.842 4.841h11.418v-21.75a11.779 11.779 0 0 1 11.765-11.762h5.172a11.779 11.779 0 0 1 11.766 11.762z"></path>
      </svg>
    ),
    component: <SuporteTecnico />
  },
  { 
    title: "Sites", 
    icon: (
      <svg height="512" viewBox="0 0 128 128" width="512" xmlns="http://www.w3.org/2000/svg" id="fi_5988512"><g><path d="m104.64 75.25h-.04a42.658 42.658 0 0 0 2.669-14.92v-.012a43.083 43.083 0 0 0 -86.169-.018v.03a42.654 42.654 0 0 0 2.669 14.92h-.409a6.118 6.118 0 0 0 -6.11 6.111v23.279a6.117 6.117 0 0 0 6.11 6.11h81.28a6.117 6.117 0 0 0 6.11-6.11v-23.279a6.118 6.118 0 0 0 -6.11-6.111zm-.931-16.67h-15.631a73.506 73.506 0 0 0 -2.274-16.8c4.231-.583 8.284-1.325 12.066-2.235a39.359 39.359 0 0 1 5.839 19.035zm.023 3.5a39.048 39.048 0 0 1 -2.878 13.17h-14.21a73.4 73.4 0 0 0 1.447-13.17zm-8-25.641c-3.45.784-7.112 1.435-10.936 1.947-2.225-6.829-5.418-12.284-9.183-15.94a39.508 39.508 0 0 1 20.123 13.993zm-29.796-15.539c6.186 1.058 11.869 7.68 15.339 17.927-4.991.542-10.134.845-15.339.9zm0 22.311a160.443 160.443 0 0 0 16.36-.994 69.569 69.569 0 0 1 2.292 16.363h-18.652zm18.65 18.872a69.327 69.327 0 0 1 -1.527 13.167h-17.119v-13.167zm-22.146 0v13.167h-17.14a70.345 70.345 0 0 1 -1.511-13.167zm-18.656-3.5a69.633 69.633 0 0 1 2.278-16.35 161.005 161.005 0 0 0 16.374 1v15.35zm18.652-37.665v18.793c-5.2-.056-10.339-.359-15.329-.9 3.471-10.235 9.148-16.834 15.329-17.893zm-9.681 1.528c-3.766 3.656-6.958 9.111-9.184 15.94-3.824-.512-7.485-1.163-10.935-1.947a39.508 39.508 0 0 1 20.119-13.993zm-22.255 17.101c3.782.91 7.835 1.652 12.066 2.235a73.506 73.506 0 0 0 -2.275 16.8h-15.628a39.345 39.345 0 0 1 5.837-19.035zm9.779 22.533a74.142 74.142 0 0 0 1.434 13.17h-14.2a39.024 39.024 0 0 1 -2.878-13.17zm66.971 42.56a2.613 2.613 0 0 1 -2.61 2.61h-81.28a2.613 2.613 0 0 1 -2.61-2.61v-23.279a2.613 2.613 0 0 1 2.61-2.611h81.28a2.613 2.613 0 0 1 2.61 2.611z"></path><path d="m49.27 84.743a1.748 1.748 0 0 0 -2.233 1.069l-3 8.522-3-8.522a1.75 1.75 0 0 0 -3.3 0l-3 8.522-3-8.522a1.75 1.75 0 0 0 -3.3 1.162l4.649 13.213a1.75 1.75 0 0 0 3.3 0l3-8.521 3 8.521a1.75 1.75 0 0 0 3.3 0l4.649-13.213a1.747 1.747 0 0 0 -1.065-2.231z"></path><path d="m74.07 84.743a1.747 1.747 0 0 0 -2.232 1.069l-3 8.522-3-8.522a1.75 1.75 0 0 0 -3.3 0l-3 8.522-3-8.522a1.75 1.75 0 0 0 -3.3 1.162l4.65 13.213a1.75 1.75 0 0 0 3.3 0l3-8.521 3 8.521a1.75 1.75 0 0 0 3.3 0l4.65-13.213a1.749 1.749 0 0 0 -1.068-2.231z"></path><path d="m98.871 84.743a1.747 1.747 0 0 0 -2.232 1.069l-3 8.522-3-8.522a1.75 1.75 0 0 0 -3.3 0l-3 8.523-3-8.523a1.75 1.75 0 0 0 -3.3 1.162l4.649 13.213a1.75 1.75 0 0 0 3.3 0l3-8.522 3 8.522a1.75 1.75 0 0 0 3.3 0l4.65-13.213a1.749 1.749 0 0 0 -1.067-2.231z"></path></g></svg>
    ),
    component: <Sites /> 
  },
  { 
    title: "Contato com o desenvolvedor", 
    icon: (
      <svg id="fi_5037686" enable-background="new 0 0 60 60" height="512" viewBox="0 0 60 60" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m53.8110352 43.7785034c-.2999878-1.4299927-1.2399902-2.7099609-2.5900269-3.5099487-2.5-1.4700317-5.0899658-2.8900146-7.5899658-4.2600098l-1.710022-.9400024c-2.1799927-1.1900024-3.6699829-.9700317-4.539978-.5700073-.8300171.3800049-1.9199829 1.289978-2.3900146 3.4799805-.0100098.0300293-.0200195.0700073-.0200195.1099854-.1499634.5700073-.5700073.8000488-.8099976.8900146-.5499878.1900024-1.1999512.0599976-1.7399902-.3599854-4.1699829-3.2800293-7.7799683-6.8800049-11.039978-10.9899902-.4199829-.5200195-.5499878-1.1600342-.3500366-1.710022.0900269-.25.3400269-.7000122 1.0400391-.8499756.0299683-.0100098.0700073-.0100098.0999756-.0200195 2.2200317-.4899902 3.1000366-1.6300049 3.460022-2.5.3900146-.9799805.5199585-2.6599731-1.0900269-5.0800171-1.2099609-1.8099976-2.2199707-3.789978-3.2000122-5.7099609-.4499512-.8699951-.8899536-1.7399902-1.3499756-2.6000366-.9199831-1.7000123-2.1500246-2.7600099-3.549988-3.0700074-1.2700195-.2699585-2.6099854.0900269-3.8800049 1.0500488-1.2600097.9599609-2.5900268 2.0199585-3.8499755 3.2399902-2.710022 2.6400146-3.3300171 5.9799805-1.7900391 9.6499634 6.5300293 15.6300049 17.7800293 26.8000488 33.4500122 33.210022 1.2199707.5100098 2.4199829.7600098 3.5599976.7600098 2.0599976 0 3.9500122-.8200073 5.5900269-2.4400024 1.3299561-1.3099976 2.5-2.8200073 3.5-4.1500244.7699584-1.0499879 1.0499877-2.3399659.789978-3.630005z"></path></svg>
    ),
    component: <ContatoDesenvolvedor />
  }
];

const Homepage = () => {
  const [selectedOption, setSelectedOption] = useState("Logins e acessos");
  const [loadingOption, setLoadingOption] = useState(null);
  const { currentUser } = useAuth();

  const handleOptionClick = (option) => {
    setLoadingOption(option.title);
    setTimeout(() => {
      setSelectedOption(option.title);
      setLoadingOption(null);
    }, 500);
  };

  useEffect(() => {
    toast.success(`${selectedOption} carregado com sucesso!`);
  }, [selectedOption]);

  return (
    <>
      <Content>
        <Title>
          <span>Controle dos sites</span>
          <h1>Painel Administrativo</h1>
          <p>{currentUser?.displayName || currentUser?.email}</p>
        </Title>

        <Container>
          <Lista>
            <ol>
              <div>
                <h2>Gerenciamento</h2>
              </div>
              {menuOptions.map((option) => (
                <li
                  key={option.title}
                  onClick={() => handleOptionClick(option)}
                  className={selectedOption === option.title ? "active" : ""}
                >
                  {option.icon}
                  <span>{option.title}</span>
                </li>
              ))}
            </ol>
            <Autor>
                <span>Desenvolvido por <a href="https://wa.me/24981411940" target="_blank">aleph</a></span>
            </Autor>
          </Lista>

          <Option>
            {menuOptions.find((item) => item.title === selectedOption)?.component}
          </Option>

          
        </Container>
      </Content>
    </>
  );
};


export default Homepage;
